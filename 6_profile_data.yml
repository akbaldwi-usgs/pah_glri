target_default: 6_profile_data

packages:
  - dplyr
  - tidyr
  - pah
  - ggplot2
  
include:
  - 3_filter_data.yml
  
sources:
  - 6_profile_data/src/create_profiles.R
  
targets:
  6_profile_data:
    depends:
      - prepped_profiles
      - prepped_pah16
      
  prepped_for_profiles:
    command: prep_profiles(pah_dat = samples)
    
  prepped_totals:
    command: prep_totals(pah-dat = samples)
    
  profiles: 
    command: pah::pah_profiler(pah_dat = prepped_for_profiles, compound_column = 'casrn', sample_column = 'sample_id',
                    conc_column = 'RESULT', sources = source_profiles)
                    
  